<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makerverse</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;600&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body>
    <div id="app">
        <nav class="top-navbar">
		<div>
			<img class="logo" src="gear.svg" alt="Gear" @click="home()">
			<h1 @click="home()">Makerverse</h1>
		</div>

		<div class="search" v-if="page === 'home'">
			<input type="text" v-model="search" placeholder="Search..."></input>
			<img src="search.svg" alt="Search Icon" height="20" width="20">
		</div>

                <div class="links">
			<a href="#">Sign in</a>
                        <a class="sign-up" href="#">Sign up</a>
		</div>
        </nav>

	<div class="search-mobile" v-if="page === 'home'">
		<input type="text" v-model="search" placeholder="Search..."></input>
		<img src="search.svg" alt="Search Icon" height="20" width="20">
	</div>

	<div class="view-make-page" v-if="page === 'viewMake'">
		<div class="view-make">
		</div>
	</div>

       <div class="makes" v-else>

	       <!-- Display searched makes if they are there -->
	       <div v-for="make in filteredMakes" class="make-listing" v-if="search.length > 0 && filteredMakes.length > 0">

		       <div class="make-title" @click="viewMake()">{{make.title}}</div>
		       <div class="make-creator" @click="viewMake()">Creator: {{make.user.username}}</div>
		       <div class="a"><img src="example.jpg" alt="Make Object" @click="viewMake()" height="300" width="350"></div>

		       <div class="flex-parent">
			       <div class="flex-child">
				       <div class="make-likes" @click="likeMake()"><img src="heart.svg" alt="Like" height="40" width="40"></div>
				       <div class="like-count">{{make.likes.length}}</div>
			       </div>

			       <div class="flex-child">
				       <div class="download-btn" @click="downloadMake()">
					       <img class="download-icon" src="download.svg" alt="Download">
					       <span>Download</span>
				       </div>
			       </div>
	       </div>


       </div>
	       <!-- Else, display all makes -->
	       <div v-for="make in makes" class="make-listing" v-if="page === 'home'">

		       <div class="make-title" @click="viewMake(make)">{{make.title}}</div>
		       <div class="make-creator" @click="viewMake(make)">Creator: {{make.user.username}}</div>
		       <div class="a"><img src="example.jpg" alt="Make Object" @click="viewMake(make)" height="300" width="350"></div>

		       <div class="flex-parent">
			       <div class="flex-child">
				       <div class="make-likes" @click="likeMake()"><img src="heart.svg" alt="Like" height="40" width="40"></div>
				       <div class="like-count">{{make.likes.length}}</div>
			       </div>

			       <div class="flex-child">
				       <div class="download-btn" @click="downloadMake()">
					       <img class="download-icon" src="download.svg" alt="Download">
					       <span>Download</span>
				       </div>
			       </div>
	       </div>


       </div>

    </div>


    </div>
    <script src="app.js"></script>
</body>

</html>
